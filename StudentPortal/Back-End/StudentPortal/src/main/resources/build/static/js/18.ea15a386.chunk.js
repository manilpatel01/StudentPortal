(this.webpackJsonpfront_ldce=this.webpackJsonpfront_ldce||[]).push([[18],{292:function(e,t,a){"use strict";var n=a(0),l=a.n(n);t.a=function(e){var t=e.src;return l.a.createElement("div",{className:"modal fade",id:"openDocumentModal",tabIndex:"-1",role:"dialog"},l.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h4",{className:"modal-title",id:"openDocumentModal_title"},"Document"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("img",{className:"img-fluid img-thumbnail",src:t,id:"fee_Receipt",alt:"fee receipt"})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-danger btn-lg","data-dismiss":"modal"},"Close")))))}},329:function(e,t,a){"use strict";a.r(t);var n=a(21),l=a.n(n),c=a(31),r=a(26),o=a(0),m=a.n(o),d=a(11),s=a.n(d),u=a(45),i=a(292);function E(e){var t=e.data;console.log(t);var a;return m.a.createElement("div",{class:"modal fade",id:"openFeeRefundModal",tabindex:"-1",role:"dialog"},m.a.createElement("div",{class:"modal-dialog modal-lg",role:"document"},m.a.createElement("div",{class:"modal-content"},m.a.createElement("div",{class:"modal-header"},m.a.createElement("h4",{class:"modal-title",id:"change_photo_title"},"Fee Receipt"),m.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},m.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),m.a.createElement("div",{class:"modal-body"},m.a.createElement("table",{class:"table table-bordered"},m.a.createElement("thead",null),t&&m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("th",{scope:"row"},"Fee Type "),m.a.createElement("td",null,"string"!==typeof(a=t.type.toLowerCase())?"":a.charAt(0).toUpperCase()+a.slice(1)," Fee")),m.a.createElement("tr",null,m.a.createElement("th",{scope:"row"},"Amount"),m.a.createElement("td",null,t.amount," ")),m.a.createElement("tr",null,m.a.createElement("th",{scope:"row"},"Transection Id "),m.a.createElement("td",null,t.transaction_no," ")),m.a.createElement("tr",null,m.a.createElement("th",{scope:"row"},"Bank Name "),m.a.createElement("td",null,t.bank_name," ")),m.a.createElement("tr",null,m.a.createElement("th",{scope:"row"},"Bank Ifsc Code "),m.a.createElement("td",null,t.bank_ifsc," ")),m.a.createElement("tr",null,m.a.createElement("th",{scope:"row"},"Bank Branch "),m.a.createElement("td",null,t.bank_branch," ")),m.a.createElement("tr",null,m.a.createElement("th",{scope:"row"},"Bank Account Number "),m.a.createElement("td",null,t.bank_ac_no," "))))),m.a.createElement("div",{class:"modal-footer"},m.a.createElement("button",{type:"button",class:"btn btn-danger btn-lg","data-dismiss":"modal"},"Close")))))}var b=a(12);t.default=function(){var e=Object(o.useState)(),t=Object(r.a)(e,2),a=t[0],n=t[1],d=Object(o.useState)(),p=Object(r.a)(d,2),f=p[0],h=p[1],v=Object(o.useState)(""),g=Object(r.a)(v,2),_=g[0],y=g[1],k=function(e,t,l,c){document.getElementById("reject-".concat(e)).disabled="true",document.getElementById("approve-".concat(e)).disabled="true";var r=new FormData;r.set("enrollment",t),r.set("status",l),null!==c&&r.set("comment",c),s.a.post(b.a.approveFeeRefund(),r).then((function(t){return n(a.filter((function(t){return t.refund_id!==e})))})).catch((function(t){console.log(t),document.getElementById("reject-".concat(e)).disabled=!1,document.getElementById("approve-".concat(e)).disabled=!1}))};Object(o.useEffect)((function(){Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/admin/pendingFeeRefund").then((function(e){n(e.data),console.log(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))()}),[]);var N=1;return m.a.createElement("div",{class:"container-fluid mt-4"},m.a.createElement("div",{class:"row"},m.a.createElement("div",{class:"col"},a?0===a.length?m.a.createElement("h1",{className:"text-center"},"No Fee Refund Requests Found For Approval!"):a&&m.a.createElement("div",{class:"table-responsive"},m.a.createElement("table",{class:"table table-bordered table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Sr No."),m.a.createElement("th",null,"Enrollment"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Semester"),m.a.createElement("th",null,"Fee Details"),m.a.createElement("th",null,"Fee Receipt"),m.a.createElement("th",null,"Approve"),m.a.createElement("th",null,"Reject"))),m.a.createElement("tbody",null,a.map((function(e){return m.a.createElement("tr",null,m.a.createElement("td",null,N++),m.a.createElement("td",null,e.enrollment),m.a.createElement("td",null,e.first_name," ",e.middle_name," ",e.last_name," "),m.a.createElement("td",null,e.semester),m.a.createElement("td",null,m.a.createElement("button",{type:"button",class:"btn btn-outline-primary btn-sm",id:N,"data-toggle":"modal","data-target":"#openFeeRefundModal",onClick:function(t){var a={};a.type=e.fees_type,a.transaction_no=e.transaction_no,a.bank_ac_no=e.bank_ac_no,a.bank_branch=e.bank_branch,a.bank_ifsc=e.bank_ifsc,a.bank_name=e.bank_name,a.amount=e.amount,h(a)}},"fee Details")),m.a.createElement("td",null,m.a.createElement("button",{type:"button",class:"btn btn-outline-primary btn-sm",id:N,"data-toggle":"modal","data-target":"#openDocumentModal",onClick:function(t){return y("/upload/"+e.fee_document_url)}},"fee Receipt")),m.a.createElement("td",null,m.a.createElement("form",{onSubmit:function(t){t.preventDefault(),k(e.refund_id,e.enrollment,1,null)}},m.a.createElement("button",{type:"submit",class:"btn btn-outline-success btn-sm",id:"approve-".concat(e.refund_id)},"Aprrove"))),m.a.createElement("td",null,m.a.createElement("form",{onSubmit:function(t){t.preventDefault(),k(e.refund_id,e.enrollment,2,t.target.comment.value)}},m.a.createElement("div",{class:"input-group"},m.a.createElement("input",{type:"text",class:"form-control",name:"comment",placeholder:"Enter Comment on reject...",required:!0}),m.a.createElement("div",{class:"input-group-append"},m.a.createElement("button",{type:"submit",id:"reject-".concat(e.refund_id),class:"btn btn-outline-danger btn-sm"},"Reject"))))))}))))):m.a.createElement(u.a,null))),m.a.createElement(i.a,{src:_}),m.a.createElement(E,{data:f}))}}}]);
//# sourceMappingURL=18.ea15a386.chunk.js.map